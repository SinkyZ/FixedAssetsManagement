<div class="container my-5"></div>

<h1 id="tableLabel">Assets</h1>


<table class='table table-striped' aria-labelledby="tableLabel">
  <thead>
    <tr>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let asset of assetList">
      <td>{{ asset.name}}</td>
      <i class="pi pi-trash" style="font-size: 2rem; cursor: pointer" (click)="showDeleteDialog(asset)"></i>
      <div title="Edit Project" style="font-size: 2rem; cursor: pointer" class="card-button pi pi-pencil"
        (click)="showEditDialog(asset)"></div>
    </tr>

  </tbody>
</table>
<button pButton type="button" label="Add new asset" class="p-button-help" style="align-self: flex-end; margin-top: 10px"
  (click)="showAddDialog()" icon="pi pi-plus"></button>

<!-- Add asset modal -->
<p-dialog header="Add Asset" [(visible)]="displayAddAssetModal" [breakpoints]="{ '960px': '75vw', '640px': '100vw' }"
  [modal]="true" styleClass="asset-dialog">
  <div style="display: flex; flex-direction: column; margin-top: 10px">
    <form [formGroup]="addAssetFormGroup">
      <span class="p-float-label" style="margin-top: 30px">
        <input id="float-input" type="text" pInputText formControlName="nameControl" style="width: 100%" />
        <label for="float-input">Asset Name</label>
      </span>
    </form>
  </div>
  <div style="
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    margin-top: 30px;
  ">
    <button pButton type="button" label="Cancel" class="p-button-danger" (click)="hideAddDialog()"></button>
    <button pButton type="button" label="Submit" class="p-button-success" (click)="addAsset()"
      [disabled]="!addAssetFormGroup.valid"></button>
  </div>
</p-dialog>

<!---------------------- DELETE MODAL ------------------------>
<p-dialog [(visible)]="displayDeleteAssetModal" styleClass="asset-dialog" [modal]="true">
  <div style="display: flex; flex-direction: column; width: 100%; height: 100%">
    <i class="pi pi-times-circle" style="font-size: 7rem; align-self: center"></i>
    <h3 style="margin-top: 10px; text-align: center">Are you sure?</h3>
    <p style="margin-top: 10px; text-align: center">
      Do you realy want to delete this asset? This process cannot be undone.
    </p>
    <div style="
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        margin-top: 40px;
      ">
      <button pButton type="button" label="Cancel" class="p-button-danger" (click)="hideDeleteDialog()"></button>
      <button pButton type="button" label="Delete" class="p-button-success"
        (click)="deleteAsset(assetIdToDelete)"></button>
    </div>
  </div>
</p-dialog>

<!-- =============================MODAL FOR EDITING A ASSET================================= -->

<p-dialog header="Edit Project" [(visible)]="displayEditModal" [modal]="true" [style]="{width: '550px'}"
  [draggable]="false" [resizable]="false">
  <form [formGroup]="editAssetFormGroup">
    <label for="float-input">Name</label>
    <br />
    <input placeholder="nameControl" id="float-input" type="text" pInputText formControlName="nameControl"
      [style]="{width: '100%'}" />
    <br />
  </form>
  <div class="buttons-container">
    <button pButton pRipple type="button" label="Close" (click)="hideEditDialog()"
      class="modal-button btn-pos p-button-danger"></button>
    <button pButton pRipple type="submit" label="Submit" (click)="updateAsset()" [disabled]="!editAssetFormGroup.valid"
      class="modal-button btn-pos p-button-success"></button>
  </div>
</p-dialog>